{"remainingRequest":"E:\\pro\\putianpage\\node_modules\\babel-loader\\lib\\index.js!E:\\pro\\putianpage\\src\\directive\\drag\\drag.js","dependencies":[{"path":"E:\\pro\\putianpage\\src\\directive\\drag\\drag.js","mtime":1619085702350},{"path":"E:\\pro\\putianpage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\pro\\putianpage\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqDQogKiBDcmVhdGVkIGJ5IFR1ZmZ5IG9uIDIwMTgvMTIvMTEuDQogKi8KJ3VzZSBzdHJpY3QnOwoKZXhwb3J0IGRlZmF1bHQgewogIGJpbmQ6IGZ1bmN0aW9uIGJpbmQoZWwsIGJpbmRpbmcpIHsKICAgIHZhciBjYiA9IGJpbmRpbmcudmFsdWU7CgogICAgZWwub25tb3VzZWRvd24gPSBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgZXYgPSBlIHx8IHdpbmRvdy5ldmVudDsKICAgICAgZWwuc3R5bGUuY3Vyc29yID0gJ21vdmUnOwogICAgICB2YXIgcmVsYVggPSBldi5jbGllbnRYIC0gZWwub2Zmc2V0TGVmdDsKICAgICAgdmFyIHJlbGFZID0gZXYuY2xpZW50WSAtIGVsLm9mZnNldFRvcDsgLy8g6I635Y+W5b2T5YmN6byg5qCH5L2N572u77yM5YeP5Y675LiOZGl255qE55u45a+55L2N572u5b6X5Yiw5b2T5YmNZGl25bqU6K+l6KKr5ouW5ou955qE5L2N572uCgogICAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIGV2ID0gZSB8fCB3aW5kb3cuZXZlbnQ7CiAgICAgICAgZWwuc3R5bGUubGVmdCA9ICIiLmNvbmNhdChldi5jbGllbnRYIC0gcmVsYVgsICJweCIpOwogICAgICAgIGVsLnN0eWxlLnRvcCA9ICIiLmNvbmNhdChldi5jbGllbnRZIC0gcmVsYVksICJweCIpOwogICAgICAgIGNiICYmIGNiKGVsLnN0eWxlLmxlZnQsIGVsLnN0eWxlLnRvcCk7CiAgICAgIH07CgogICAgICBkb2N1bWVudC5vbm1vdXNldXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBudWxsOwogICAgICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IG51bGw7CiAgICAgICAgZWwuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnOwogICAgICB9OwogICAgfTsKICB9Cn07"},{"version":3,"sources":["E:/pro/putianpage/src/directive/drag/drag.js"],"names":["bind","el","binding","cb","value","onmousedown","e","ev","window","event","style","cursor","relaX","clientX","offsetLeft","relaY","clientY","offsetTop","document","onmousemove","left","top","onmouseup"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,eAAe;AACXA,EAAAA,IAAI,EAAE,cAAUC,EAAV,EAAcC,OAAd,EAAuB;AACzB,QAAMC,EAAE,GAAGD,OAAO,CAACE,KAAnB;;AACAH,IAAAA,EAAE,CAACI,WAAH,GAAiB,UAASC,CAAT,EAAY;AACzB,UAAMC,EAAE,GAAGD,CAAC,IAAIE,MAAM,CAACC,KAAvB;AACAR,MAAAA,EAAE,CAACS,KAAH,CAASC,MAAT,GAAkB,MAAlB;AACA,UAAMC,KAAK,GAAGL,EAAE,CAACM,OAAH,GAAaZ,EAAE,CAACa,UAA9B;AACA,UAAMC,KAAK,GAAGR,EAAE,CAACS,OAAH,GAAaf,EAAE,CAACgB,SAA9B,CAJyB,CAKzB;;AACAC,MAAAA,QAAQ,CAACC,WAAT,GAAuB,UAASb,CAAT,EAAY;AAC/B,YAAMC,EAAE,GAAGD,CAAC,IAAIE,MAAM,CAACC,KAAvB;AACAR,QAAAA,EAAE,CAACS,KAAH,CAASU,IAAT,aAAmBb,EAAE,CAACM,OAAH,GAAaD,KAAhC;AACAX,QAAAA,EAAE,CAACS,KAAH,CAASW,GAAT,aAAmBd,EAAE,CAACS,OAAH,GAAaD,KAAhC;AACAZ,QAAAA,EAAE,IAAIA,EAAE,CAACF,EAAE,CAACS,KAAH,CAASU,IAAV,EAAgBnB,EAAE,CAACS,KAAH,CAASW,GAAzB,CAAR;AACH,OALD;;AAMAH,MAAAA,QAAQ,CAACI,SAAT,GAAqB,YAAW;AAC5BJ,QAAAA,QAAQ,CAACC,WAAT,GAAuB,IAAvB;AACAD,QAAAA,QAAQ,CAACI,SAAT,GAAqB,IAArB;AACArB,QAAAA,EAAE,CAACS,KAAH,CAASC,MAAT,GAAkB,SAAlB;AACH,OAJD;AAKH,KAjBD;AAkBH;AArBU,CAAf","sourcesContent":["/**\r\n * Created by Tuffy on 2018/12/11.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    bind: function (el, binding) {\r\n        const cb = binding.value\r\n        el.onmousedown = function(e) {\r\n            const ev = e || window.event\r\n            el.style.cursor = 'move'\r\n            const relaX = ev.clientX - el.offsetLeft\r\n            const relaY = ev.clientY - el.offsetTop\r\n            // 获取当前鼠标位置，减去与div的相对位置得到当前div应该被拖拽的位置\r\n            document.onmousemove = function(e) {\r\n                const ev = e || window.event\r\n                el.style.left = `${ev.clientX - relaX}px`\r\n                el.style.top =  `${ev.clientY - relaY}px`\r\n                cb && cb(el.style.left, el.style.top)\r\n            };\r\n            document.onmouseup = function() {\r\n                document.onmousemove = null\r\n                document.onmouseup = null\r\n                el.style.cursor = 'default'\r\n            }\r\n        }\r\n    }\r\n}"]}]}